<app-navbar></app-navbar>
<div class="relative h-screen bg-[#141414]">
  <button class="bg-[#141414] absolute top-0 left-10" (click)="goBack()">
    <svg
      class="w-6 h-6 text-white dark:text-white"
      aria-hidden="true"
      xmlns="http://www.w3.org/2000/svg"
      width="24"
      height="24"
      fill="none"
      viewBox="0 0 24 24"
    >
      <path
        stroke="currentColor"
        stroke-linecap="round"
        stroke-linejoin="round"
        stroke-width="2"
        d="M5 12h14M5 12l4-4m-4 4 4 4"
      />
    </svg>
  </button>
  <div class="heading text-center font-bold text-2xl m-5 text-white">
    Edit Blog
  </div>

  <form
    [formGroup]="blogForm"
    (ngSubmit)="updateBlog()"
    class="editor bg-[#222222] relative mx-auto w-10/12 flex flex-col text-whiteborder border-gray-300 p-8 shadow-lg max-w-2xl rounded-md"
  >
    <label for="title" class="mb-1 font-bold text-base text-white">Title</label>
    <input
      class="bg-gray-50 border border-gray-300 text-black text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:focus:ring-blue-500 dark:focus:border-blue-500"
      spellcheck="false"
      placeholder="Title"
      type="text"
      formControlName="title"
    />

    <label for="description" class="mb-1 font-bold text-base text-white"
      >Description</label
    >
    <textarea
      class="block p-2.5 w-full text-sm text-black bg-gray-50 rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:focus:ring-blue-500 dark:focus:border-blue-500"
      placeholder="Write your thoughts here..."
      spellcheck="false"
      rows="12"
      formControlName="description"
    ></textarea>

    <label for="tags" class="mb-1 font-bold text-base text-white">Tags</label>
    <div class="relative mb-4">
      <input
        #tagInput
        type="text"
        placeholder="Add a tag"
        class="bg-gray-50 border border-gray-300 text-black text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:focus:ring-blue-500 dark:focus:border-blue-500"
      />
      <button
        type="button"
        (click)="addTag(tagInput.value); tagInput.value = ''"
        class="absolute top-0.5 right-0 p-2"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
          class="lucide lucide-plus"
        >
          <path d="M5 12h14" />
          <path d="M12 5v14" />
        </svg>
      </button>
    </div>

    <ul
      class="w-full text-sm font-medium text-black bg-transparent flex flex-wrap mb-3.5"
    >
      <li
        *ngFor="let tag of tags.controls; let i = index"
        class="px-4 py-2 m-2 bg-[#3b3b3b] rounded-lg text-white flex items-center justify-between"
      >
        <span>
          {{ tag.value }}
        </span>
        <button type="button" *ngIf="!postCreated" (click)="removeTag(i)">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            stroke="red"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
            class="lucide lucide-trash"
          >
            <path d="M3 6h18" />
            <path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6" />
            <path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2" />
          </svg>
        </button>
      </li>
    </ul>
    <!-- buttons -->
    <div class="buttons flex justify-end">
      <button
        type="button"
        (click)="goBack()"
        class="text-blue-700 bg-white border border-blue-700 hover:text-white hover:bg-blue-700 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 me-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800"
      >
        Cancel
      </button>
      <button
        type="submit"
        class="text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 me-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800"
      >
        Update
      </button>
    </div>
  </form>
</div>
